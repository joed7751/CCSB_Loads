{
    "collab_server" : "",
    "contents" : "#pTHg Yolo script for retrieving loads models stats (the stats are used to select the best model for this constituent at this site) and loads predictions.\n\nlibrary(akima)\nlibrary(dataRetrieval)\nlibrary(digest)\nlibrary(leaps)\nlibrary(lubridate)\nlibrary(memoise)\nlibrary(rloadest)\nlibrary(smwrBase)\nlibrary(smwrData)\nlibrary(smwrGraphs)\nlibrary(smwrQW)\nlibrary(smwrStats)\nlibrary(boot)\nlibrary(KernSmooth)\nlibrary(lattice)\n\npTHg_Yolo<-importRDB(\"pTHg_YoloR.txt\")\nYoloQ<-importRDB(\"YoloQR.txt\")\n\n#These data frames are created by the function importRDB. \n#The calls above bring the constituent data and the daily flow data into the script.\n\npTHg_Yolom1 <- loadReg(pTHg ~model(1), data = pTHg_Yolo, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"ng/L\" , station = \"CCSB-Yolo\")\npTHg_Yolom1\npTHg_Yolom2 <- loadReg(pTHg ~model(2), data = pTHg_Yolo, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"ng/L\" , station = \"CCSB-Yolo\")\npTHg_Yolom2\npTHg_Yolom3 <- loadReg(pTHg ~model(3), data = pTHg_Yolo, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"ng/L\" , station = \"CCSB-Yolo\")\npTHg_Yolom3\npTHg_Yolom4 <- loadReg(pTHg ~model(4), data = pTHg_Yolo, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"ng/L\" , station = \"CCSB-Yolo\")\npTHg_Yolom4\npTHg_Yolom5 <- loadReg(pTHg ~model(5), data = pTHg_Yolo, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"ng/L\" , station = \"CCSB-Yolo\")\npTHg_Yolom5\npTHg_Yolom6 <- loadReg(pTHg ~model(6), data = pTHg_Yolo, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"ng/L\" , station = \"CCSB-Yolo\")\npTHg_Yolom6\npTHg_Yolom7 <- loadReg(pTHg ~model(7), data = pTHg_Yolo, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"ng/L\" , station = \"CCSB-Yolo\")\npTHg_Yolom7\npTHg_Yolom8 <- loadReg(pTHg ~model(8), data = pTHg_Yolo, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"ng/L\" , station = \"CCSB-Yolo\")\npTHg_Yolom8\npTHg_Yolom9 <- loadReg(pTHg ~model(9), data = pTHg_Yolo, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"ng/L\" , station = \"CCSB-Yolo\")\npTHg_Yolom9\n\n#These objects of class \"loadReg\" are created.\n#A list in R allows you to gather a variety of objects under one name (that is, the name of the list) in an ordered way. \n#These objects can be matrices, vectors, data frames, even other lists, etc. It is not even required that these objects are related to each other in any way.\n#When the models are run (m1-m9), the output will be in the console. These are the stats used to select the best model. \n\nplot(pTHg_Yolom3,ann=FALSE)\ntitle(main = \"11452500_pTHg Response vs Fitted Values\",xlab = \"Fitted Values\",ylab = \"Response Values\")\nplot(pTHg_Yolom3,which = 2,set.up = F)\ntitle(main = \"11452500_pTHg Residuals vs Fitted Values\")\nplot(pTHg_Yolom3,which = 3,set.up = F)\ntitle(main = \"11452500_pTHg Assessing Heteroscedasticity\") #Add \"of Residuals\"?\nplot(pTHg_Yolom3,which = 4,set.up = F)\ntitle(main = \"11452500_pTHg Correlogram of Samples\")\nplot(pTHg_Yolom3,which = 5,set.up = F)\ntitle(main=\"11452500_pTHg Normal Discharge\")\nplot(pTHg_Yolom3,which = 6,set.up = F)\ntitle(main=\"11452500_pTHg Box Plot of Loads\")\n\n#These functions plot the data using the chosen best model and add a title and labels to the plot.\n\npTHg_Yolo_load<-predLoad(pTHg_Yolom3,YoloQ,load.units=\"kg\",by=\"water year\",allow.incomplete = TRUE,conf.int = 0.95,print = TRUE)\nwrite.csv(pTHg_Yolo_load,file.choose())\npTHg_Yolo_load_day<-predLoad(pTHg_Yolom3, YoloQ,load.units = \"kg\",by=\"day\",allow.incomplete = TRUE,conf.int = 0.90,print = TRUE)\nwrite.csv(pTHg_Yolo_load_day,file.choose())\n\n#Lines 64 and 66 create data frames that use the function predLoad. \n#Description of predLoad: Estimate loads from a rating-curve model from loadReg for a new data frame, aggregating the loads by specified time periods.\n#Lines 65 and 67 write the data frames to a .csv file.\n#file.choose() lets the user select the location for the .csv files.\n",
    "created" : 1536386084491.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3609751984",
    "id" : "88D5B0FD",
    "lastKnownWriteTime" : 1536357577,
    "last_content_update" : 1536357577,
    "path" : "C:/Users/slrose/R/2018_CCSB_LoadsData_WY2010-2017/Yolo_11452500/2_wy2017/2_rloadest/2_pTHg/pTHg_Yolo_RScript.R",
    "project_path" : "pTHg_Yolo_RScript.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}
{
    "collab_server" : "",
    "contents" : "#PSSC Rumsey script for retrieving loads models stats (the stats are used to select the best model for this constituent at this site) and loads predictions.\n\nlibrary(akima)\nlibrary(dataRetrieval)\nlibrary(digest)\nlibrary(leaps)\nlibrary(lubridate)\nlibrary(memoise)\nlibrary(rloadest)\nlibrary(smwrBase)\nlibrary(smwrData)\nlibrary(smwrGraphs)\nlibrary(smwrQW)\nlibrary(smwrStats)\nlibrary(boot)\nlibrary(KernSmooth)\nlibrary(lattice)\n\nPSSC_Rumsey<-importRDB(\"PSSC_RumseyR.txt\")\nRumseyQ<-importRDB(\"RumseyQR.txt\")\n\n#These data frames are created by the function importRDB. \n#The calls above bring the particulate total mercury data and the daily flow data into the script.\n\nPSSC_Rumseym1 <- loadReg(PSSC ~model(1), data = PSSC_Rumsey, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nPSSC_Rumseym1\nPSSC_Rumseym2 <- loadReg(PSSC ~model(2), data = PSSC_Rumsey, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nPSSC_Rumseym2\nPSSC_Rumseym3 <- loadReg(PSSC ~model(3), data = PSSC_Rumsey, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nPSSC_Rumseym3\nPSSC_Rumseym4 <- loadReg(PSSC ~model(4), data = PSSC_Rumsey, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nPSSC_Rumseym4\nPSSC_Rumseym5 <- loadReg(PSSC ~model(5), data = PSSC_Rumsey, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nPSSC_Rumseym5\nPSSC_Rumseym6 <- loadReg(PSSC ~model(6), data = PSSC_Rumsey, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nPSSC_Rumseym6\nPSSC_Rumseym7 <- loadReg(PSSC ~model(7), data = PSSC_Rumsey, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nPSSC_Rumseym7\nPSSC_Rumseym8 <- loadReg(PSSC ~model(8), data = PSSC_Rumsey, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nPSSC_Rumseym8\nPSSC_Rumseym9 <- loadReg(PSSC ~model(9), data = PSSC_Rumsey, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nPSSC_Rumseym9\n\n#These lists are created using the loadReg function.\n#[A list in R allows you to gather a variety of objects under one name (that is, the name of the list) in an ordered way. \n#These objects can be matrices, vectors, data frames, even other lists, etc. It is not even required that these objects are related to each other in any way.] \n#When the models are run (m1-m9), the output will be in the console. These are the stats used to select the best model. \n\nplot(PSSC_Rumseym3,ann=FALSE)\ntitle(main = \"11451800_PSSC Response vs Fitted Values\",xlab = \"Fitted Values\",ylab = \"Response Values\")\nplot(PSSC_Rumseym3,which = 2,set.up = F)\ntitle(main = \"11451800_PSSC Residuals vs Fitted Values\")\nplot(PSSC_Rumseym3,which = 3,set.up = F)\ntitle(main = \"11451800_PSSC Assessing Heteroscedasticity\")\nplot(PSSC_Rumseym3,which = 4,set.up = F)\ntitle(main = \"11451800_PSSC Correlogram of Samples\")\nplot(PSSC_Rumseym3,which = 5,set.up = F)\ntitle(main=\"11451800_PSSC Normal Discharge\")\nplot(PSSC_Rumseym3,which = 6,set.up = F)\ntitle(main=\"11451800_PSSC Box Plot of Loads\")\n\n#These functions plot the data using the chosen best model and add a title and labels to the plot.\n\nPSSC_Rumsey_load<-predLoad(PSSC_Rumseym3,RumseyQ,load.units=\"kg\",by=\"water year\",allow.incomplete = TRUE,conf.int = 0.95,print = TRUE)\nwrite.csv(PSSC_Rumsey_load,file.choose())\nPSSC_Rumsey_load_day<-predLoad(PSSC_Rumseym3, RumseyQ,load.units = \"kg\",by=\"day\",allow.incomplete = TRUE,conf.int = 0.90,print = TRUE)\nwrite.csv(PSSC_Rumsey_load_day,file.choose())\n\n#Lines 71 and 73 create data frames that use the function predLoad. \n#Description of predLoad: Estimate loads from a rating-curve model from loadReg for a new data frame, aggregating the loads by specified time periods.\n",
    "created" : 1534952510270.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4211474609",
    "id" : "4914BF56",
    "lastKnownWriteTime" : 1534953166,
    "last_content_update" : 1534953166324,
    "path" : "C:/Users/slrose/R/2018_CCSB_LoadsData_WY2010-2017/rloadest/Rumsey_11451800/Rumsey_Loads_2015/PSSC/PSSC_Rumsey_RScript.R",
    "project_path" : "PSSC/PSSC_Rumsey_RScript.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}
{
    "collab_server" : "",
    "contents" : "#SSC Inlet script for retrieving loads models stats (the stats are used to select the best model for this constituent at this site) and loads predictions.\n\nlibrary(akima)\nlibrary(dataRetrieval)\nlibrary(digest)\nlibrary(leaps)\nlibrary(lubridate)\nlibrary(memoise)\nlibrary(rloadest)\nlibrary(smwrBase)\nlibrary(smwrData)\nlibrary(smwrGraphs)\nlibrary(smwrQW)\nlibrary(smwrStats)\nlibrary(boot)\nlibrary(KernSmooth)\nlibrary(lattice)\n\nSSC_Inlet<-importRDB(\"SSC_InletR.txt\")\nInletQ<-importRDB(\"InletQR.txt\")\n\n#These data frames are created by the function importRDB. \n#The calls above bring the constituent data and the daily flow data into the script.\n\nSSC_Inletm1 <- loadReg(SSC ~model(1), data = SSC_Inlet, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nSSC_Inletm1\nSSC_Inletm2 <- loadReg(SSC ~model(2), data = SSC_Inlet, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nSSC_Inletm2\nSSC_Inletm3 <- loadReg(SSC ~model(3), data = SSC_Inlet, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nSSC_Inletm3\nSSC_Inletm4 <- loadReg(SSC ~model(4), data = SSC_Inlet, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nSSC_Inletm4\nSSC_Inletm5 <- loadReg(SSC ~model(5), data = SSC_Inlet, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nSSC_Inletm5\nSSC_Inletm6 <- loadReg(SSC ~model(6), data = SSC_Inlet, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nSSC_Inletm6\nSSC_Inletm7 <- loadReg(SSC ~model(7), data = SSC_Inlet, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nSSC_Inletm7\nSSC_Inletm8 <- loadReg(SSC ~model(8), data = SSC_Inlet, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nSSC_Inletm8\nSSC_Inletm9 <- loadReg(SSC ~model(9), data = SSC_Inlet, flow=\"Flow\", dates = \"Dates\" ,conc.units=\"mg/L\" , station = \"CCSB-Yolo\")\nSSC_Inletm9\n\n#These objects of class \"loadReg\" are created.\n#A list in R allows you to gather a variety of objects under one name (that is, the name of the list) in an ordered way. \n#These objects can be matrices, vectors, data frames, even other lists, etc. It is not even required that these objects are related to each other in any way.\n#When the models are run (m1-m9), the output will be in the console. These are the stats used to select the best model. \n\n#print(SSC_Inletm1,brief = FALSE, load.only = FALSE)\n#print(SSC_Inletm2,brief = FALSE, load.only = FALSE)\n#print(SSC_Inletm3,brief = FALSE, load.only = FALSE)\n#print(SSC_Inletm4,brief = FALSE, load.only = FALSE)\n#print(SSC_Inletm5,brief = FALSE, load.only = FALSE)\n#print(SSC_Inletm6,brief = FALSE, load.only = FALSE)\n#print(SSC_Inletm7,brief = FALSE, load.only = FALSE)\n#print(SSC_Inletm8,brief = FALSE, load.only = FALSE)\n#print(SSC_Inletm9,brief = FALSE, load.only = FALSE)\n#Commenting these out. These provide some explanations of the data in a longer form. Brief results are printed to console (SSC_Inletm1-9)\n\nplot(SSC_Inletm3,ann=FALSE)\ntitle(main = \"11452600_SSC Response vs Fitted Values\",xlab = \"Fitted Values\",ylab = \"Response Values\")\nplot(SSC_Inletm3,which = 2,set.up = F)\ntitle(main = \"11452600_SSC Residuals vs Fitted Values\")\nplot(SSC_Inletm3,which = 3,set.up = F)\ntitle(main = \"11452600_SSC Assessing Heteroscedasticity\") #Add \"of Residuals\"?\nplot(SSC_Inletm3,which = 4,set.up = F)\ntitle(main = \"11452600_SSC Correlogram of Samples\")\nplot(SSC_Inletm3,which = 5,set.up = F)\ntitle(main=\"11452600_SSC Normal Discharge\")\nplot(SSC_Inletm3,which = 6,set.up = F)\ntitle(main=\"11452600_SSC Box Plot of Loads\")\n\n#These functions plot the data using the chosen best model and add a title and labels to the plot.\n\nSSC_Inlet_load<-predLoad(SSC_Inletm3,InletQ,load.units=\"kg\",by=\"water year\",allow.incomplete = TRUE,conf.int = 0.95,print = TRUE)\nwrite.csv(SSC_Inlet_load,file.choose())\nSSC_Inlet_load_day<-predLoad(SSC_Inletm3, InletQ,load.units = \"kg\",by=\"day\",allow.incomplete = TRUE,conf.int = 0.90,print = TRUE)\nwrite.csv(SSC_Inlet_load_day,file.choose())\n\n#Lines 75 and 77 create data frames that use the function predLoad. \n#Description of predLoad: Estimate loads from a rating-curve model from loadReg for a new data frame, aggregating the loads by specified time periods.\n#Lines 76 and 78 write the data frames to a .csv file.\n#file.choose() lets the user select the location for the .csv files.",
    "created" : 1536386399602.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2885121742",
    "id" : "EFE8E7A7",
    "lastKnownWriteTime" : 1536463478,
    "last_content_update" : 1536463478,
    "path" : "C:/Users/slrose/R/2018_CCSB_LoadsData_WY2010-2017/Inlet_11452600/1_wy2016_2017/1_rloadest/1_SSC/SSC_Inlet_RScript.R",
    "project_path" : "SSC_Inlet_RScript.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}